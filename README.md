# ADISE19_it123909

# Demo Page
Το πρότζεκτ βρίσκεται :
https://users.iee.ihu.gr/~it123909/ADISE19_it123909/

## Οδηγίες Εγκατάστασης

 * Κάντε clone το project σε κάποιον φάκελο <br/>
  `$ git clone https://github.com/iee-ihu-gr-course1941/Lectures-Chess4.git`

 * Βεβαιωθείτε ότι ο φάκελος είναι προσβάσιμος από τον Apache Server. πιθανόν να χρειαστεί να καθορίσετε τις παρακάτω ρυθμίσεις.

 * Θα πρέπει να δημιουργήσετε στην Mysql την βάση με όνομα 'adise19_chess5' και να φορτώσετε σε αυτήν την βάση τα δεδομένα από το αρχείο DB/schema5.sql

 * Θα πρέπει να φτιάξετε το αρχείο lib/config_local.php το οποίο να περιέχει:
```
    <?php
	$DB_PASS = '12345678';
	$DB_USER = 'root';
    ?>
```

Για την υλοποίηση χρησιμοποιήθηκαν:
Mysql,php,javascript,jquery,ajax,html.

# Περιγραφή Παιχνιδιού
Το blackjack(21) είναι ένα παιχνίδι τράπουλας που παίζεται από 1 (ή περισσότερους παίκτες) εναντίον του γκρουπίερη(μάνας)
ο παίκτης που έχει τους περισσότερους πόντους από τον γκρουπιέρη και είναι <21 πόντων κερδίζει τον γκρουπίερη . Αν υπάρξει ισοπαλία
κερδίζει ο γκρουπιέρης.


## Συντελεστές
Στυλιανός Παπαδόπουλος: Mysql,php,javascript,jquery,ajax,html.


# Περιγραφή API

### deck
#### Ανάγνωση deck

```
GET /deck/
```

Επιστρέφει το [deck](#deck).

#### Αρχικοποίηση deck
```
POST /deck/
```

Αρχικοποιεί το deck, δηλαδή το παιχνίδι. Γίνονται reset τα πάντα σε σχέση με το παιχνίδι.
Επιστρέφει το [deck](#deck).


### Piece
#### Άνοιγμα κάρτας
```
GET /deck/opencard/

Ανοίγει την κάρτα στο GUI και μας στέλνει το random id της κάρτας που τραβήκτηκε
```

```
PUT /deck/card/

Βάζει την κάρτα που ανοίχθηκε στην βάση δεδομένων
```

```
GET /deck/card/

Μας δίνει πίσω το νικητή δηλάδη ποιος έχει παραπάνω score από τον άλλο και είναι μικρότερο ή ίσο με το 21
```

### Player

#### Ανάγνωση στοιχείων παίκτη
```
GET /players/:p
```

Επιστρέφει τα στοιχεία του παίκτη p με την show_user()

#### Καθορισμός στοιχείων παίκτη
```
PUT /players/:p
```
Json Data:

| Field             | Description                 | Required   |
| ----------------- | --------------------------- | ---------- |
| `username`        | Το username για τον παίκτη p. | yes        |
| `player_type`     | Ο ρόλος που διάλεξε ο χρήστης(παίκτης ή κρουπιέρης) | yes        |


Επιστρέφει τα στοιχεία του παίκτη p και ένα token. Το token πρέπει να το χρησιμοποιεί ο παίκτης καθόλη τη διάρκεια του παιχνιδιού.


### Status

#### Ανάγνωση κατάστασης παιχνιδιού
```
GET /status/
```

Επιστρέφει το  game status.


## Entities


### Board
---------

Το board είναι ένας πίνακας, ο οποίος στο κάθε στοιχείο έχει τα παρακάτω:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `id`                     | Το μοναδικό id της κάθε κάρτας               | 1..52                               |
| `card_category`          | Η κατηγορία(τύπος) φύλλου της κάρτας         | 'C','D','H','S'                     |
| `card_value`             | Η τιμή της κάθε κάρτας                       | 1..10 ,'A','Q','J','K'              |
| `card_score`             | Για πόσο σκορ μετράει η κάθε κάρτα           | 1,2,3....10                         |
| `img`                    | Η εικόνα που αντιστοιχεί σε κάθε id          | '2C'...'AC' , '2H'...'AH' etc.      |
| `player_hand`            | Ο δείκτης used card by player                | 0=Not used 1=Used                   |
| `croupier_hand`          | Ο δείκτης used card by croupier              | 0=Not used 1=Used                   |



### Players
---------

O κάθε παίκτης έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `username`               | Όνομα παίκτη                                 | String                              |
| `player_type`            | O τύπος χρήστη (παίκτης ,η κρουπιέρης)       | 'P','C'                             |
| `token  `                | To κρυφό token του παίκτη. Επιστρέφεται μόνο τη στιγμή της εισόδου του παίκτη στο παιχνίδι | HEX |


### Game_status
---------

H κατάσταση παιχνιδιού έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `status  `               | Κατάσταση             | 'not active', 'initialized', 'started', 'ended', 'aborded'     |
| `p_turn`                 | To χρώμα του παίκτη που παίζει        | 'P','C',null                              |
| `result`                 |  To χρώμα του παίκτη που κέρδισε |'P','C',null                              |
| `last_change`            | Τελευταία αλλαγή/ενέργεια στην κατάσταση του παιχνιδιού         | timestamp |

